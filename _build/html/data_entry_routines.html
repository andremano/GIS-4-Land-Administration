

<!DOCTYPE html>
<html class="writer-html5" lang="[en]" >
<head>
  <meta charset="utf-8">
  
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  
  <title>Data entry routines &mdash; GIS for Land Administration 1 documentation</title>
  

  
  <link rel="stylesheet" href="_static/css/theme.css" type="text/css" />
  <link rel="stylesheet" href="_static/pygments.css" type="text/css" />

  
  
  
  

  
  <!--[if lt IE 9]>
    <script src="_static/js/html5shiv.min.js"></script>
  <![endif]-->
  
    
      <script type="text/javascript" id="documentation_options" data-url_root="./" src="_static/documentation_options.js"></script>
        <script src="_static/jquery.js"></script>
        <script src="_static/underscore.js"></script>
        <script src="_static/doctools.js"></script>
        <script src="_static/language_data.js"></script>
        <script async="async" src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.7/latest.js?config=TeX-AMS-MML_HTMLorMML"></script>
    
    <script type="text/javascript" src="_static/js/theme.js"></script>

    
    <link rel="index" title="Index" href="genindex.html" />
    <link rel="search" title="Search" href="search.html" />
    <link rel="next" title="Cartographic outputs" href="cartographic_outputs.html" />
    <link rel="prev" title="Data Entry" href="data_entry.html" /> 
</head>

<body class="wy-body-for-nav">

   
  <div class="wy-grid-for-nav">
    
    <nav data-toggle="wy-nav-shift" class="wy-nav-side">
      <div class="wy-side-scroll">
        <div class="wy-side-nav-search" >
          

          
            <a href="index.html" class="icon icon-home" alt="Documentation Home"> GIS for Land Administration
          

          
          </a>

          
            
            
          

          
<div role="search">
  <form id="rtd-search-form" class="wy-form" action="search.html" method="get">
    <input type="text" name="q" placeholder="Search docs" />
    <input type="hidden" name="check_keywords" value="yes" />
    <input type="hidden" name="area" value="default" />
  </form>
</div>

          
        </div>

        
        <div class="wy-menu wy-menu-vertical" data-spy="affix" role="navigation" aria-label="main navigation">
          
            
            
              
            
            
              <p class="caption"><span class="caption-text">Topics</span></p>
<ul class="current">
<li class="toctree-l1"><a class="reference internal" href="using_qgis.html">Using QGIS</a></li>
<li class="toctree-l1"><a class="reference internal" href="vector_representations.html">Vector representations</a></li>
<li class="toctree-l1"><a class="reference internal" href="spatial_reference_systems.html">Spatial reference systems</a></li>
<li class="toctree-l1"><a class="reference internal" href="spatial_relationships.html">Spatial relationships</a></li>
<li class="toctree-l1"><a class="reference internal" href="geoprocessing.html">Geoprocessing</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_quality.html">Data Quality</a></li>
<li class="toctree-l1"><a class="reference internal" href="data_entry.html">Data Entry</a></li>
<li class="toctree-l1 current"><a class="current reference internal" href="#">Data entry routines</a><ul>
<li class="toctree-l2"><a class="reference internal" href="#principle">Principle</a></li>
<li class="toctree-l2"><a class="reference internal" href="#widgets">Widgets</a></li>
<li class="toctree-l2"><a class="reference internal" href="#expressions">Expressions</a></li>
<li class="toctree-l2"><a class="reference internal" href="#workflows">workflows</a></li>
</ul>
</li>
<li class="toctree-l1"><a class="reference internal" href="cartographic_outputs.html">Cartographic outputs</a></li>
</ul>
<p class="caption"><span class="caption-text">Appendices</span></p>
<ul>
<li class="toctree-l1"><a class="reference internal" href="gis-formats.html">Common GIS file formats</a></li>
</ul>

            
          
        </div>
        
      </div>
    </nav>

    <section data-toggle="wy-nav-shift" class="wy-nav-content-wrap">

      
      <nav class="wy-nav-top" aria-label="top navigation">
        
          <i data-toggle="wy-nav-top" class="fa fa-bars"></i>
          <a href="index.html">GIS for Land Administration</a>
        
      </nav>


      <div class="wy-nav-content">
        
        <div class="rst-content">
        
          















<div role="navigation" aria-label="breadcrumbs navigation">

  <ul class="wy-breadcrumbs">
    
      <li><a href="index.html" class="icon icon-home"></a> &raquo;</li>
        
      <li>Data entry routines</li>
    
    
      <li class="wy-breadcrumbs-aside">
        
            
            <a href="_sources/data_entry_routines.rst.txt" rel="nofollow"> View page source</a>
          
        
      </li>
    
  </ul>

  
  <hr/>
</div>
          <div role="main" class="document" itemscope="itemscope" itemtype="http://schema.org/Article">
           <div itemprop="articleBody">
            
  <div class="section" id="data-entry-routines">
<h1>Data entry routines<a class="headerlink" href="#data-entry-routines" title="Permalink to this headline">¶</a></h1>
<div class="admonition-resources admonition">
<p class="admonition-title">Resources</p>
<p>This exercise uses the same dataset used for the <a href="#id1"><span class="problematic" id="id2">*</span></a>Spatial relationships. If you need to download the data again just clik on <a class="reference external" href="https://canvas.utwente.nl/courses/6395/files/1773079/download?download_frd=1/">this link</a>. The dataset contains the following layers:</p>
<ul>
<li><p><em>dorset_cadaster.qgz</em> a QGIS project preloading a <em>geopackage</em> containing the following layers:</p>
<blockquote>
<div><ul class="simple">
<li><p><em>roads</em> (road network)</p></li>
<li><p><em>water_plan</em> (area a water management plan where special provisions may apply)</p></li>
<li><p><em>power_line_project</em> (proposed route for a high voltage aereal cable)</p></li>
<li><p><em>parcels</em> (the cadaster)</p></li>
<li><p><em>land_use</em> (land uses as of 2015)</p></li>
<li><p><em>parish</em> (admninistrative boundary of the parishes within the Dorset municipality - Tasmania)</p></li>
<li><p><em>party</em> (fictional list of parties)</p></li>
<li><p><em>building</em> (empty layer of type polygon)</p></li>
<li><p><em>topographic_map</em> (a sample topographic map generated from Open Street Map)</p></li>
<li><p><em>building_type</em> (fictional list of types of buildings)</p></li>
</ul>
</div></blockquote>
</li>
</ul>
<blockquote>
<div><p>In additon to the project and respective datasets, there are also folders with auxiliary files the exercise may refer to.</p>
</div></blockquote>
</div>
<div class="section" id="principle">
<h2>Principle<a class="headerlink" href="#principle" title="Permalink to this headline">¶</a></h2>
<p>Data entry routines refer to techniques used to optimize <a class="reference external" href="https://ltb.itc.utwente.nl/page/481/concept/78549">Spatial data acquisition</a> especially in the context of <a class="reference external" href="https://ltb.itc.utwente.nl/page/481/concept/78631">Digitizing</a> and data imports.
The idea is to automate as much as possible the production of new geographic information by minimizing the amount of data that a human as to manually declare.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>The more people touch the data during the editing phase, the higher the chance errors and data corruption will occur. In general, it is good policy to restrict data editing as much as possible.</p>
</div>
<p>From a technical point of view it is important to understand that these routines <strong>always</strong> have to abide by the constraints imposed by the data provider.
Therefore data entry routines exist on two levels: the provider level, and the interface level <a class="reference internal" href="#id3"><span class="std std-numref">Fig. 23</span></a>.</p>
<div class="align-center figure align-default" id="id6">
<span id="id3"></span><img alt="Principle of data entry routines" src="_images/data_entry_routines.png" />
<p class="caption"><span class="caption-number">Fig. 23 </span><span class="caption-text">Data routine levels</span><a class="headerlink" href="#id6" title="Permalink to this image">¶</a></p>
</div>
<p>For this exercise we are going to use the case of a dataset that has to be manually digitized to store the footprint of buildings.
The simplified data model <a class="reference internal" href="#data-model"><span class="std std-numref">Fig. 24</span></a> shows how this dataset is structured and how it relates with other datasets.</p>
<div class="align-center figure align-default" id="id7">
<span id="data-model"></span><img alt="Simplified data model" src="_images/class_diagram.png" />
<p class="caption"><span class="caption-number">Fig. 24 </span><span class="caption-text">Simplified data model for <code class="docutils literal notranslate"><span class="pre">building</span></code> dataset</span><a class="headerlink" href="#id7" title="Permalink to this image">¶</a></p>
</div>
<p>This data model is implemented using a geopackage (.gpkg), but ideally it would be implemented in a concurrent access database like PostgreSQL.
From the data model we can have an overview of the constraints that have to be enforced. We are now going to optimize the data entry through interface optimizations.</p>
</div>
<div class="section" id="widgets">
<h2>Widgets<a class="headerlink" href="#widgets" title="Permalink to this headline">¶</a></h2>
<p>Before starting to tweak our data entry interface, lets take a look at how it looks and feels by default.</p>
<ol class="arabic simple">
<li><p><strong>Task</strong> Having the <code class="docutils literal notranslate"><span class="pre">topographic_map</span></code> as background map, try to digitize at least one of the buildings footprints into the <code class="docutils literal notranslate"><span class="pre">building</span></code> layer.</p></li>
</ol>
<p>You will see <a class="reference internal" href="#default-menu"><span class="std std-numref">Fig. 25</span></a> that you have to manually enter the information yourself into all the fields and in some cases you simply do not know what value to enter.</p>
<div class="align-center figure align-default" id="id8">
<span id="default-menu"></span><img alt="default menu" src="_images/default_menu.png" />
<p class="caption"><span class="caption-number">Fig. 25 </span><span class="caption-text">Default data entry interface</span><a class="headerlink" href="#id8" title="Permalink to this image">¶</a></p>
</div>
<p>Clearly, this is not convenient at all. In order to make the data entry more efficient we will start by defining what type of widgets should be used for each attribute of our table.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>In the context of the <code class="docutils literal notranslate"><span class="pre">Vector</span> <span class="pre">layer</span> <span class="pre">properties</span></code> dialog in QGIS, a widget defines the type of interface the user will see when editing a layer. You can learn more about widgets in the <a class="reference external" href="https://docs.qgis.org/testing/en/docs/user_manual/working_with_vector/vector_properties.html#edit-widgets/">official documentation</a></p>
</div>
<ol class="arabic simple" start="2">
<li><p><strong>Task</strong> From the <code class="docutils literal notranslate"><span class="pre">Layers</span> <span class="pre">panel</span></code>, <em>right-click</em> on layer <code class="docutils literal notranslate"><span class="pre">building</span></code> an then click on <code class="docutils literal notranslate"><span class="pre">Properties</span></code>. From the <code class="docutils literal notranslate"><span class="pre">Layer</span> <span class="pre">properties</span></code> dialog go access the <code class="docutils literal notranslate"><span class="pre">Attributes</span> <span class="pre">form</span></code> tab <a class="reference internal" href="#attributes-form"><span class="std std-numref">Fig. 26</span></a></p></li>
</ol>
<div class="align-center figure align-default" id="id9">
<span id="attributes-form"></span><img alt="attributes form" src="_images/attributes_form.png" />
<p class="caption"><span class="caption-number">Fig. 26 </span><span class="caption-text">The <code class="docutils literal notranslate"><span class="pre">Attributes</span> <span class="pre">form</span></code> tab</span><a class="headerlink" href="#id9" title="Permalink to this image">¶</a></p>
</div>
<ol class="arabic simple" start="3">
<li><p><strong>Task</strong> Define your first widget on field <code class="docutils literal notranslate"><span class="pre">fid</span></code>. The widget type will be <code class="docutils literal notranslate"><span class="pre">Hidden</span></code> <a class="reference internal" href="#widget-example"><span class="std std-numref">Fig. 27</span></a>.</p></li>
</ol>
<div class="align-center figure align-default" id="id10">
<span id="widget-example"></span><img alt="attributes form" src="_images/widget_example.png" />
<p class="caption"><span class="caption-number">Fig. 27 </span><span class="caption-text">Widget definition example</span><a class="headerlink" href="#id10" title="Permalink to this image">¶</a></p>
</div>
<ol class="arabic simple" start="4">
<li><p><strong>Task</strong> Continue defining the widget types field by field according the parameters indicated in <a class="reference internal" href="#widgets-building"><span class="std std-numref">Table 4</span></a>. In the end hit the <code class="docutils literal notranslate"><span class="pre">Apply</span></code> button.</p></li>
</ol>
<span id="widgets-building"></span><table class="colwidths-given docutils align-default" id="id11">
<caption><span class="caption-number">Table 4 </span><span class="caption-text">Building widgets</span><a class="headerlink" href="#id11" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 20%" />
<col style="width: 40%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>field</p></th>
<th class="head"><p>widget</p></th>
<th class="head"><p>editable</p></th>
<th class="head"><p>remarks</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>type</p></td>
<td><p>Value Relation</p></td>
<td><p>yes</p></td>
<td><p>Layer=’building_type’;  Key column=’fid’;  Value column=’type</p></td>
</tr>
<tr class="row-odd"><td><p>allowed_use</p></td>
<td><p>Text Edit</p></td>
<td><p>no</p></td>
<td><p>Layer=’roads’; Key column=’fid’; Value Column ‘pri_nane’</p></td>
</tr>
<tr class="row-even"><td><p>historic_building</p></td>
<td><p>Checkbox</p></td>
<td><p>yes</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>official</p></td>
<td><p>Text Edit</p></td>
<td><p>no</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>registered</p></td>
<td><p>Date</p></td>
<td><p>yes</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>storeys</p></td>
<td><p>Range</p></td>
<td><p>yes</p></td>
<td><p>Minimum=’1’;  Maximum=’5’;  Step=’1’ (use the slider widget)</p></td>
</tr>
<tr class="row-even"><td><p>street</p></td>
<td><p>Text Edit</p></td>
<td><p>no</p></td>
<td></td>
</tr>
<tr class="row-odd"><td><p>perimeter_m</p></td>
<td><p>Text Edit</p></td>
<td><p>no</p></td>
<td></td>
</tr>
<tr class="row-even"><td><p>area_m2</p></td>
<td><p>Text Edit</p></td>
<td><p>no</p></td>
<td></td>
</tr>
</tbody>
</table>
<p>If you now try to digitize one of the buildings, the interface is different <a class="reference internal" href="#after-widget"><span class="std std-numref">Fig. 28</span></a></p>
<div class="align-center figure align-default" id="id12">
<span id="after-widget"></span><img alt="after widget" src="_images/after_widget.png" />
<p class="caption"><span class="caption-number">Fig. 28 </span><span class="caption-text">Data entry interface after widget definition</span><a class="headerlink" href="#id12" title="Permalink to this image">¶</a></p>
</div>
<p>However this is still not good. Some fields are grayed out and cannot be edited. These fields are to be automatically calculated, but for that we need to look into the QGIS expressions</p>
</div>
<div class="section" id="expressions">
<h2>Expressions<a class="headerlink" href="#expressions" title="Permalink to this headline">¶</a></h2>
<p>QGIS expressions engine offers powerful possibilities when it comes to styling, analyses and, of course, editing data.</p>
<div class="admonition attention">
<p class="admonition-title">Attention</p>
<p>Expressions are a fundamental part of workflows and productivity in QGIS. A full description of all the expressions is available in the <a class="reference external" href="https://docs.qgis.org/testing/en/docs/user_manual/working_with_vector/expression.html?highlight=expressions/">official documentation</a></p>
</div>
<p>In our case we are interested in defining what the default value for a given field is. This default value can be the output of an expression.</p>
<ol class="arabic" start="5">
<li><p><strong>Task</strong> Define your first default expression on field <code class="docutils literal notranslate"><span class="pre">land_use</span></code>. Enter this expression:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>aggregate(
layer:= &#39;land_use&#39;,
aggregate:=&#39;concatenate&#39;,
expression:= LU_DESCRIP,
concatenator:=&#39;&#39;,
filter:=intersects($geometry, geometry(@parent)))
</pre></div>
</div>
<p>as the <code class="docutils literal notranslate"><span class="pre">Default</span> <span class="pre">value</span></code> and make sure the option <code class="docutils literal notranslate"><span class="pre">Apply</span> <span class="pre">default</span> <span class="pre">value</span> <span class="pre">on</span> <span class="pre">update</span></code> is checked <a class="reference internal" href="#expression-example"><span class="std std-numref">Fig. 29</span></a>.</p>
</li>
</ol>
<div class="align-center figure align-default" id="id13">
<span id="expression-example"></span><img alt="expression example" src="_images/expression_example.png" />
<p class="caption"><span class="caption-number">Fig. 29 </span><span class="caption-text">Expression example</span><a class="headerlink" href="#id13" title="Permalink to this image">¶</a></p>
</div>
<ol class="arabic simple" start="6">
<li><p><strong>Task</strong> Continue defining the default expressions according to the definitions provided in <a class="reference internal" href="#expressions-building"><span class="std std-numref">Table 5</span></a>. In the end hit the <code class="docutils literal notranslate"><span class="pre">Apply</span></code> button.</p></li>
</ol>
<span id="expressions-building"></span><table class="colwidths-given docutils align-default" id="id14">
<caption><span class="caption-number">Table 5 </span><span class="caption-text">Building expressions</span><a class="headerlink" href="#id14" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 25%" />
<col style="width: 75%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>field</p></th>
<th class="head"><p>expression</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>official</p></td>
<td><p>&#64;user_full_name</p></td>
</tr>
<tr class="row-odd"><td><p>registered</p></td>
<td><p>to_date( now() )</p></td>
</tr>
<tr class="row-even"><td><p>storeys</p></td>
<td><p>2</p></td>
</tr>
<tr class="row-odd"><td><p>street</p></td>
<td><blockquote>
<div><p>aggregate(
layer:= 'roads',
aggregate:='concatenate',
expression:= pri_name,
concatenator:='',
filter:=intersects($geometry, buffer(geometry(&#64;parent),10)))</p>
</div></blockquote>
</td>
</tr>
<tr class="row-even"><td><p>perimeter_m</p></td>
<td><p>$perimeter</p></td>
</tr>
<tr class="row-odd"><td><p>area_m2</p></td>
<td><p>$area</p></td>
</tr>
</tbody>
</table>
<p>I everything went well, if you now proceed to digitize your buildings you should observe that most of the fields are now pre-filled <a class="reference internal" href="#after-expressions"><span class="std std-numref">Fig. 30</span></a> making the data entry proccess more reliable and faster.</p>
<div class="align-center figure align-default" id="id15">
<span id="after-expressions"></span><img alt="after expressions" src="_images/after_expressions.png" />
<p class="caption"><span class="caption-number">Fig. 30 </span><span class="caption-text">Data entry interface after defining default expressions</span><a class="headerlink" href="#id15" title="Permalink to this image">¶</a></p>
</div>
<p>To make the interface as simple as possible <a class="reference internal" href="#minimal-interface"><span class="std std-numref">Fig. 31</span></a>, you can also opt to change the widget type of fields currently not editable to <code class="docutils literal notranslate"><span class="pre">Hidden</span></code>.
Those fields are <code class="docutils literal notranslate"><span class="pre">allowed</span> <span class="pre">use</span></code>, <code class="docutils literal notranslate"><span class="pre">official</span></code>, <code class="docutils literal notranslate"><span class="pre">registered</span></code>, <code class="docutils literal notranslate"><span class="pre">street</span></code>, <code class="docutils literal notranslate"><span class="pre">perimeter_m</span></code> and <code class="docutils literal notranslate"><span class="pre">area_m2</span></code>.</p>
<div class="align-center figure align-default" id="id16">
<span id="minimal-interface"></span><img alt="after expressions" src="_images/minimal_interface.png" />
<p class="caption"><span class="caption-number">Fig. 31 </span><span class="caption-text">Data entry interface after hiding autofill fields</span><a class="headerlink" href="#id16" title="Permalink to this image">¶</a></p>
</div>
</div>
<div class="section" id="workflows">
<h2>workflows<a class="headerlink" href="#workflows" title="Permalink to this headline">¶</a></h2>
<p>Another type of data entry routine is related with importing from external sources. These sources often take form of a topographic survey where each surveyed point is stored in a table or CSV file.
These points might represent a geographic phenomena representable by a point, in which case each surveyed point will be integrated as geometry of type point in the GIS System.</p>
<p>This integration can get tricky when these points are actually the vertices of a more complex geometry, for example a polygon representing a recently surveyed land parcel like shown in <a class="reference internal" href="#t-survey-1"><span class="std std-numref">Table 6</span></a></p>
<span id="t-survey-1"></span><table class="colwidths-given docutils align-default" id="id17">
<caption><span class="caption-number">Table 6 </span><span class="caption-text">Parcel vertices</span><a class="headerlink" href="#id17" title="Permalink to this table">¶</a></caption>
<colgroup>
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
<col style="width: 17%" />
</colgroup>
<thead>
<tr class="row-odd"><th class="head"><p>vertex_index</p></th>
<th class="head"><p>vertex_part</p></th>
<th class="head"><p>distance</p></th>
<th class="head"><p>angle</p></th>
<th class="head"><p>xcoord</p></th>
<th class="head"><p>ycoord</p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p>0</p></td>
<td><p>0</p></td>
<td><p>0</p></td>
<td><p>145.4303973</p></td>
<td><p>542746.806</p></td>
<td><p>5448568.026</p></td>
</tr>
<tr class="row-odd"><td><p>1</p></td>
<td><p>0</p></td>
<td><p>165.5815304</p></td>
<td><p>191.0113576</p></td>
<td><p>542715.179</p></td>
<td><p>5448405.493</p></td>
</tr>
<tr class="row-even"><td><p>2</p></td>
<td><p>0</p></td>
<td><p>493.3223253</p></td>
<td><p>226.1405706</p></td>
<td><p>542652.58</p></td>
<td><p>5448083.786</p></td>
</tr>
<tr class="row-odd"><td><p>3</p></td>
<td><p>0</p></td>
<td><p>548.0989514</p></td>
<td><p>261.011077</p></td>
<td><p>542598.438</p></td>
<td><p>5448075.472</p></td>
</tr>
<tr class="row-even"><td><p>4</p></td>
<td><p>0</p></td>
<td><p>602.7958644</p></td>
<td><p>266.1858122</p></td>
<td><p>542544.452</p></td>
<td><p>5448066.682</p></td>
</tr>
<tr class="row-odd"><td><p>5</p></td>
<td><p>0</p></td>
<td><p>709.414446</p></td>
<td><p>272.9521545</p></td>
<td><p>542437.876</p></td>
<td><p>5448069.695</p></td>
</tr>
<tr class="row-even"><td><p>6</p></td>
<td><p>0</p></td>
<td><p>755.1472779</p></td>
<td><p>322.7666605</p></td>
<td><p>542392.271</p></td>
<td><p>5448073.112</p></td>
</tr>
<tr class="row-odd"><td><p>7</p></td>
<td><p>0</p></td>
<td><p>1303.576168</p></td>
<td><p>55.54885149</p></td>
<td><p>542499.249</p></td>
<td><p>5448611.006</p></td>
</tr>
<tr class="row-even"><td><p>8</p></td>
<td><p>0</p></td>
<td><p>1554.836489</p></td>
<td><p>145.4303973</p></td>
<td><p>542746.806</p></td>
<td><p>5448568.026</p></td>
</tr>
</tbody>
</table>
<p>The workflow required to transform such a table into a geometry is deeply dependent on the overall data model adopted for survey works.
But a relative simple way to do it would be a succession of steps where the output of each of these steps is the input to the next operation until
the final output is obtained.</p>
<p>In the example we will explore, this workflow consists of
<code class="docutils literal notranslate"><span class="pre">Import</span> <span class="pre">the</span> <span class="pre">csv</span> <span class="pre">as</span> <span class="pre">point</span> <span class="pre">data</span></code> &gt;
<code class="docutils literal notranslate"><span class="pre">Generate</span> <span class="pre">a</span> <span class="pre">line</span> <span class="pre">connecting</span> <span class="pre">these</span> <span class="pre">dots</span></code> &gt;
<code class="docutils literal notranslate"><span class="pre">Close</span> <span class="pre">the</span> <span class="pre">line</span> <span class="pre">to</span> <span class="pre">obtain</span> <span class="pre">a</span> <span class="pre">polygon</span></code> &gt;
<code class="docutils literal notranslate"><span class="pre">Fix</span> <span class="pre">geometry</span></code> &gt;
<code class="docutils literal notranslate"><span class="pre">&gt;</span> <span class="pre">FINAL</span> <span class="pre">OUTPUT</span></code></p>
<p>This succession of steps is tedious and time consuming, especially if it is a recurrent task. A better way to do it is to build a <cite>Model</cite> (or workflow) in QGIS that chains this steps into one single operation <a class="reference internal" href="#import-survey-model"><span class="std std-numref">Fig. 32</span></a> that can even be executed as a <em>batch process</em> if needed.</p>
<div class="align-center figure align-default" id="id18">
<span id="import-survey-model"></span><img alt="import survey model" src="_images/import_survey_model.png" />
<p class="caption"><span class="caption-number">Fig. 32 </span><span class="caption-text">Model to import survey data in CSV format</span><a class="headerlink" href="#id18" title="Permalink to this image">¶</a></p>
</div>
<p>Along with the data for this exercise you have a folder named <code class="docutils literal notranslate"><span class="pre">surveys</span></code>. Inside you will see 30 CSV files similat to the one shown in <a class="reference internal" href="#t-survey-1"><span class="std std-numref">Table 6</span></a>, each representing a different topographic survey (i.e. different parcel). We will now use these files to demonstrate how a possible approach to build workflow to import external data.</p>
<ol class="arabic simple" start="7">
<li><p><strong>Task</strong> Import the model <code class="docutils literal notranslate"><span class="pre">import_surveys.model3</span></code> into your collection of processing tools <a class="reference internal" href="#add-model"><span class="std std-numref">Fig. 33</span></a> you will find this file inside the <code class="docutils literal notranslate"><span class="pre">models</span></code> folder.</p></li>
</ol>
<div class="align-center figure align-default" id="id19">
<span id="add-model"></span><img alt="add model" src="_images/add_model.png" />
<p class="caption"><span class="caption-number">Fig. 33 </span><span class="caption-text">Adding a model to the <code class="docutils literal notranslate"><span class="pre">Processing</span> <span class="pre">toolbox</span></code></span><a class="headerlink" href="#id19" title="Permalink to this image">¶</a></p>
</div>
<ol class="arabic simple" start="8">
<li><p><strong>Task</strong> From the <code class="docutils literal notranslate"><span class="pre">Processing</span> <span class="pre">Toolbox</span></code>, filter by <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">survey</span></code>. <em>right-click</em> on it and choose <code class="docutils literal notranslate"><span class="pre">Exectute</span> <span class="pre">as</span> <span class="pre">Batch</span> <span class="pre">Process</span></code> <a class="reference internal" href="#execute-batch-process"><span class="std std-numref">Fig. 34</span></a>.</p></li>
</ol>
<div class="align-center figure align-default" id="id20">
<span id="execute-batch-process"></span><img alt="execute batch process" src="_images/execute_batch_process.png" />
<p class="caption"><span class="caption-number">Fig. 34 </span><span class="caption-text">Starting a Batch Process</span><a class="headerlink" href="#id20" title="Permalink to this image">¶</a></p>
</div>
<ol class="arabic simple" start="9">
<li><p><strong>Task</strong> From the <code class="docutils literal notranslate"><span class="pre">Processing</span> <span class="pre">Toolbox</span></code>, filter by <code class="docutils literal notranslate"><span class="pre">import</span> <span class="pre">survey</span></code>. <em>right-click</em> on it and choose <code class="docutils literal notranslate"><span class="pre">Exectute</span> <span class="pre">as</span> <span class="pre">Batch</span> <span class="pre">Process</span></code> <a class="reference internal" href="#execute-batch-process"><span class="std std-numref">Fig. 34</span></a>.</p></li>
<li><p><strong>Task</strong> Provide the necessary parameters to execute the batch operation. Check the video below to see how it is done</p></li>
</ol>
<iframe width="672" height="378" src="https://www.youtube.com/embed/nVTw18s_knw" frameborder="0" allow="accelerometer; autoplay; encrypted-media; gyroscope; picture-in-picture" allowfullscreen></iframe><p>The end product is a collection of 30 layers with point geometries representing the vertices of the polygons and 30 layers of polygon geometries representing the parcels <a class="reference internal" href="#import-final"><span class="std std-numref">Fig. 35</span></a></p>
<div class="align-center figure align-default" id="id21">
<span id="import-final"></span><img alt="execute batch process" src="_images/import_final.png" />
<p class="caption"><span class="caption-number">Fig. 35 </span><span class="caption-text">Result of the batch import</span><a class="headerlink" href="#id21" title="Permalink to this image">¶</a></p>
</div>
</div>
</div>


           </div>
           
          </div>
          <footer>
  
    <div class="rst-footer-buttons" role="navigation" aria-label="footer navigation">
      
        <a href="cartographic_outputs.html" class="btn btn-neutral float-right" title="Cartographic outputs" accesskey="n" rel="next">Next <span class="fa fa-arrow-circle-right"></span></a>
      
      
        <a href="data_entry.html" class="btn btn-neutral float-left" title="Data Entry" accesskey="p" rel="prev"><span class="fa fa-arrow-circle-left"></span> Previous</a>
      
    </div>
  

  <hr/>

  <div role="contentinfo">
    <p>
        
        &copy; Copyright 2020, Andre Mano

    </p>
  </div>
    
    
    
    Built with <a href="http://sphinx-doc.org/">Sphinx</a> using a
    
    <a href="https://github.com/rtfd/sphinx_rtd_theme">theme</a>
    
    provided by <a href="https://readthedocs.org">Read the Docs</a>. 

</footer>

        </div>
      </div>

    </section>

  </div>
  

  <script type="text/javascript">
      jQuery(function () {
          SphinxRtdTheme.Navigation.enable(true);
      });
  </script>

  
  
    
   

</body>
</html>